(this["webpackJsonpchat-react"]=this["webpackJsonpchat-react"]||[]).push([[0],{16:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),c=n(17),i=n.n(c),s=(n(16),n(9)),o=n.n(s),u=n(12),l=n(11),d=n(8),p=(n(24),n(29),n(2)),h=function(e){var t=e.onClick,n=void 0===t?null:t,a=e.children,r=void 0===a?null:a;return Object(p.jsx)("button",{className:"py-2 px-4 font-semibold rounded-lg shadow-md text-white bg-green-500 hover:bg-green-700 motion-reduce:transform-none",onClick:n,children:r})},b=n(13),j=n(31),v=function(e){var t=e.CreatedAt,n=void 0===t?null:t,a=e.text,r=void 0===a?"":a,c=e.displayName,i=void 0===c?"":c,s=e.photoURL,o=void 0===s?"":s;return Object(p.jsxs)("div",{children:[o?Object(p.jsx)("img",{src:o,alt:"Avatar",width:45,height:45}):null,i?Object(p.jsx)("p",{children:i}):null,(null===n||void 0===n?void 0:n.seconds)?Object(p.jsx)("span",{children:Object(j.a)(new Date(1e3*n.seconds),new Date)}):null,Object(p.jsx)("p",{children:r})]})},f=function(e){var t=e.user,n=void 0===t?null:t,r=e.db,c=void 0===r?null:r,i=Object(a.useState)([]),s=Object(l.a)(i,2),o=s[0],u=s[1],h=Object(a.useState)(""),j=Object(l.a)(h,2),f=j[0],x=j[1],m=n.uid,g=n.displayName,O=n.photoURL;Object(a.useEffect)((function(){if(c)return c.collection("messages").orderBy("CreatedAt").limit(100).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(b.a)(Object(b.a)({},e.data()),{},{id:e.id})}));u(t)}))}),[c]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"flex flex-col h-full",children:[Object(p.jsx)("ul",{children:o.map((function(e){return Object(p.jsx)("li",{children:Object(p.jsx)(v,Object(b.a)({},e))},e.id)}))}),Object(p.jsx)("div",{className:"mb-6 mx-4",children:Object(p.jsxs)("form",{className:"flex flex-row bg-gray-200 dark:bg-coolDark-400 rounded-md px-4 py-3 z-10 max-w-screen-lg mx-auto dark:text-white shadow-md",onSubmit:function(e){e.preventDefault(),c&&c.collection("messages").add({text:f,CreatedAt:d.a.firestore.FieldValue.serverTimestamp(),uid:m,displayName:g,photoURL:O}),x("")},children:[Object(p.jsx)("input",{className:"flex-1 bg-transparent outline-none",value:f,onChange:function(e){x(e.target.value)},placeholder:"Escribe aqu\xed tu mensaje"}),Object(p.jsx)("button",{className:"uppercase font-semibold text-sm tracking-wider text-gray-500 hover:text-gray-900 dark:hover:text-white transition-colors",type:"submit",disabled:!f,children:"Enviar"})]})})]})})};d.a.initializeApp({apiKey:"AIzaSyAX_zpDqGSxQnLWGRdCKMk8AM_XSbqOF5o",authDomain:"chat-react-edc32.firebaseapp.com",projectId:"chat-react-edc32",storageBucket:"chat-react-edc32.appspot.com",messagingSenderId:"891470607365",appId:"1:891470607365:web:c8791fd0fe9d58526b586c",measurementId:"G-MGDN3L6V8R"});var x=d.a.auth(),m=d.a.firestore();var g=function(){var e=Object(a.useState)((function(){return x.currentUser})),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),i=Object(l.a)(c,2),s=i[0],b=i[1];Object(a.useEffect)((function(){return x.onAuthStateChanged((function(e){r(e||null),s&&b(!1)}))}));var j=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.a.auth.GoogleAuthProvider,x.useDeviceLanguage(),e.prev=2,e.next=5,x.signInWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.a.auth.GithubAuthProvider,x.useDeviceLanguage(),e.prev=2,e.next=5,x.signInWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.a.auth.FacebookAuthProvider,x.useDeviceLanguage(),e.prev=2,e.next=5,x.signInWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.auth().signOut();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return s?"Loading...":Object(p.jsx)("div",{className:"App",children:n?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(h,{onClick:O,children:"Cerrar Sesi\xf3n"}),Object(p.jsx)(f,{user:n,db:m})]}):Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(h,{onClick:j,children:"Sign Up with Google"}),Object(p.jsx)(h,{onClick:v,children:"Sign Up with GitHub"}),Object(p.jsx)(h,{onClick:g,children:"Sign Up with Facebook"})]})})};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(g,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.6fba6f14.chunk.js.map